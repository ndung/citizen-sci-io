<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{fragments/layout :: layout (~{::body},'index')}">

<body>
<div class="kt-container-fluid">
    <div class="grid grid-cols-1 xl:grid-cols-3 gap-5 lg:gap-7.5">

        <div class="col-span-3">
            <div class="kt-card">
                <div class="kt-card-header">
                    <h3 class="kt-card-title">Data</h3>
                </div>

                <div class="kt-card-content">
                    <!-- DataTables CSS (CDN) -->
                    <link rel="stylesheet"
                          th:href="@{https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css}"/>

                    <div class="table-responsive">
                        <table id="dataTable" class="display table w-full min-w-[1000px]">
                            <thead>
                            <tr>
                                <th>No.</th>
                                <th>Created At</th>
                                <th>Creator</th>
                                <th>Latitude</th>
                                <th>Longitude</th>
                                <th>Image</th>
                                <th>Actions</th>
                                <th>Verificator</th>
                                <th>Verification Time</th>
                            </tr>
                            </thead>
                            <tbody>
                            <!-- SSR fallback if JS disabled -->
                            <tr th:each="d : ${data}">
                                <td style="width:5%">Example</td>
                                <td style="width:10%"><span th:text="${#dates.format(d.createdAt, 'dd MMM yyyy, HH:mm')}"></span></td>
                                <td style="width:10%">d.user.fullName</td>
                                <td style="width:10%">d.latitude</td>
                                <td style="width:10%">d.longitude</td>
                                <td style="width:10%"><span th:text="${#dates.format(p.createdAt, 'dd MMM yyyy, HH:mm')}"></span></td>
                                <td style="width:10%">
                                    <a th:href="@{|/data/${d.id}|}"
                                       class="kt-btn kt-btn-light">Detail</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- jQuery + DataTables (CDN) -->
                    <script th:src="@{https://code.jquery.com/jquery-3.7.1.min.js}"></script>
                    <script th:src="@{https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js}"></script>
                    <script>
                        $(function () {
                            $('#projectsTable').DataTable({
                                scrollX: true,        // enable horizontal scrolling
                                autoWidth: false,     // keep your widths; donâ€™t auto-expand
                                columnDefs: [
                                    {targets: '_all', className: 'whitespace-nowrap'}
                                ]
                            });
                        });
                    </script>
                </div>
            </div>
        </div>

    </div>
</div>
</body>
</html>
